<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="today.css">
  <link rel="icon" href="star.png" type="image/x-icon">

<title>seoeun.today</title>

</head>
<body>

	<!--left-->
	<div class="left">
 <div class="content" id="note">
			<iframe src="note/noteindex.html"></iframe>
		</div>
	<div class="content" id="cabinet">
		<iframe src="web cabinet/index.html"></iframe>
	</div>
		<div class="content" id="tool">
		<iframe src="tool/index.html"></iframe>
	</div>
  <div class="content" id="search">
		<iframe src="webarchive/index.html"></iframe>
	</div>
	</div>

    <!--center-->
    <div class="center">
		<a class="home" href="index.html">✣ seoeun.today ✣</a>
		<li><a href="#album" onclick="clearRightFrame()">album</a></li>
		<li>
      <a href="#cabinet" onclick="clearRightFrame()">
        web cabinet</a></li>
		<li>
      <a href="#tool" onclick="clearRightFrame()">
        tool</a></li>
		<li><a href="#note" onclick="clearRightFrame()">
      note</a></li>

		<p id="today-date">today is July 4, 2025</p>

	</div>

    <!--Right-->
    <div class="right">
  <iframe name="rightFrame" style="width: 100%; height: 100%; border: none;"></iframe>
		<div class="content" id="album">
			<iframe src="album/index.html"></iframe>
		</div>
	</div>


	
   <script>
  const dateElement = document.getElementById('today-date');
  const today = new Date();
  const options = { year: 'numeric', month: 'long', day: 'numeric' };
  const formatted = today.toLocaleDateString('en-US', options);
  dateElement.textContent = `today is ${formatted}`;

  function clearRightFrame() {
    const rightFrame = document.querySelector('iframe[name="rightFrame"]');
    if (rightFrame) {
      rightFrame.src = 'about:blank'; 
    }
  }

  // album iframe DOM 참조
  const albumIframe = document.querySelector('#album iframe');

  function showAlbum() {
    albumIframe.contentWindow.postMessage("show", "*");
  }

  function hideAlbum() {
    albumIframe.contentWindow.postMessage("hide", "*");
  }

  // 메뉴 클릭에 따라 제어
  document.querySelector('a[href="#album"]').addEventListener('click', () => {
    showAlbum();
  });

  document.querySelector('a[href="#cabinet"]').addEventListener('click', () => {
    hideAlbum();
  });
  document.querySelector('a[href="#search"]').addEventListener('click', () => {
    hideAlbum();
  });
  document.querySelector('a[href="#note"]').addEventListener('click', () => {
    hideAlbum();
  });

  // 새로고침 시 left 영역 초기화
  window.addEventListener('load', () => {
    const navType = performance.getEntriesByType("navigation")[0].type;
    if (navType === "reload") {
      window.location.href = "index.html";
    }
  });
</script>

</body>
</html>
